{"ast":null,"code":"'use strict';\n\nvar align = require('wide-align');\nvar validate = require('aproba');\nvar wideTruncate = require('./wide-truncate');\nvar error = require('./error');\nvar TemplateItem = require('./template-item');\nfunction renderValueWithValues(values) {\n  return function (item) {\n    return renderValue(item, values);\n  };\n}\nvar renderTemplate = module.exports = function (width, template, values) {\n  var items = prepareItems(width, template, values);\n  var rendered = items.map(renderValueWithValues(values)).join('');\n  return align.left(wideTruncate(rendered, width), width);\n};\nfunction preType(item) {\n  var cappedTypeName = item.type[0].toUpperCase() + item.type.slice(1);\n  return 'pre' + cappedTypeName;\n}\nfunction postType(item) {\n  var cappedTypeName = item.type[0].toUpperCase() + item.type.slice(1);\n  return 'post' + cappedTypeName;\n}\nfunction hasPreOrPost(item, values) {\n  if (!item.type) return;\n  return values[preType(item)] || values[postType(item)];\n}\nfunction generatePreAndPost(baseItem, parentValues) {\n  var item = Object.assign({}, baseItem);\n  var values = Object.create(parentValues);\n  var template = [];\n  var pre = preType(item);\n  var post = postType(item);\n  if (values[pre]) {\n    template.push({\n      value: values[pre]\n    });\n    values[pre] = null;\n  }\n  item.minLength = null;\n  item.length = null;\n  item.maxLength = null;\n  template.push(item);\n  values[item.type] = values[item.type];\n  if (values[post]) {\n    template.push({\n      value: values[post]\n    });\n    values[post] = null;\n  }\n  return function ($1, $2, length) {\n    return renderTemplate(length, template, values);\n  };\n}\nfunction prepareItems(width, template, values) {\n  function cloneAndObjectify(item, index, arr) {\n    var cloned = new TemplateItem(item, width);\n    var type = cloned.type;\n    if (cloned.value == null) {\n      if (!(type in values)) {\n        if (cloned.default == null) {\n          throw new error.MissingTemplateValue(cloned, values);\n        } else {\n          cloned.value = cloned.default;\n        }\n      } else {\n        cloned.value = values[type];\n      }\n    }\n    if (cloned.value == null || cloned.value === '') return null;\n    cloned.index = index;\n    cloned.first = index === 0;\n    cloned.last = index === arr.length - 1;\n    if (hasPreOrPost(cloned, values)) cloned.value = generatePreAndPost(cloned, values);\n    return cloned;\n  }\n  var output = template.map(cloneAndObjectify).filter(function (item) {\n    return item != null;\n  });\n  var remainingSpace = width;\n  var variableCount = output.length;\n  function consumeSpace(length) {\n    if (length > remainingSpace) length = remainingSpace;\n    remainingSpace -= length;\n  }\n  function finishSizing(item, length) {\n    if (item.finished) throw new error.Internal('Tried to finish template item that was already finished');\n    if (length === Infinity) throw new error.Internal('Length of template item cannot be infinity');\n    if (length != null) item.length = length;\n    item.minLength = null;\n    item.maxLength = null;\n    --variableCount;\n    item.finished = true;\n    if (item.length == null) item.length = item.getBaseLength();\n    if (item.length == null) throw new error.Internal('Finished template items must have a length');\n    consumeSpace(item.getLength());\n  }\n  output.forEach(function (item) {\n    if (!item.kerning) return;\n    var prevPadRight = item.first ? 0 : output[item.index - 1].padRight;\n    if (!item.first && prevPadRight < item.kerning) item.padLeft = item.kerning - prevPadRight;\n    if (!item.last) item.padRight = item.kerning;\n  });\n\n  // Finish any that have a fixed (literal or intuited) length\n  output.forEach(function (item) {\n    if (item.getBaseLength() == null) return;\n    finishSizing(item);\n  });\n  var resized = 0;\n  var resizing;\n  var hunkSize;\n  do {\n    resizing = false;\n    hunkSize = Math.round(remainingSpace / variableCount);\n    output.forEach(function (item) {\n      if (item.finished) return;\n      if (!item.maxLength) return;\n      if (item.getMaxLength() < hunkSize) {\n        finishSizing(item, item.maxLength);\n        resizing = true;\n      }\n    });\n  } while (resizing && resized++ < output.length);\n  if (resizing) throw new error.Internal('Resize loop iterated too many times while determining maxLength');\n  resized = 0;\n  do {\n    resizing = false;\n    hunkSize = Math.round(remainingSpace / variableCount);\n    output.forEach(function (item) {\n      if (item.finished) return;\n      if (!item.minLength) return;\n      if (item.getMinLength() >= hunkSize) {\n        finishSizing(item, item.minLength);\n        resizing = true;\n      }\n    });\n  } while (resizing && resized++ < output.length);\n  if (resizing) throw new error.Internal('Resize loop iterated too many times while determining minLength');\n  hunkSize = Math.round(remainingSpace / variableCount);\n  output.forEach(function (item) {\n    if (item.finished) return;\n    finishSizing(item, hunkSize);\n  });\n  return output;\n}\nfunction renderFunction(item, values, length) {\n  validate('OON', arguments);\n  if (item.type) {\n    return item.value(values, values[item.type + 'Theme'] || {}, length);\n  } else {\n    return item.value(values, {}, length);\n  }\n}\nfunction renderValue(item, values) {\n  var length = item.getBaseLength();\n  var value = typeof item.value === 'function' ? renderFunction(item, values, length) : item.value;\n  if (value == null || value === '') return '';\n  var alignWith = align[item.align] || align.left;\n  var leftPadding = item.padLeft ? align.left('', item.padLeft) : '';\n  var rightPadding = item.padRight ? align.right('', item.padRight) : '';\n  var truncated = wideTruncate(String(value), length);\n  var aligned = alignWith(truncated, length);\n  return leftPadding + aligned + rightPadding;\n}","map":{"version":3,"names":["align","require","validate","wideTruncate","error","TemplateItem","renderValueWithValues","values","item","renderValue","renderTemplate","module","exports","width","template","items","prepareItems","rendered","map","join","left","preType","cappedTypeName","type","toUpperCase","slice","postType","hasPreOrPost","generatePreAndPost","baseItem","parentValues","Object","assign","create","pre","post","push","value","minLength","length","maxLength","$1","$2","cloneAndObjectify","index","arr","cloned","default","MissingTemplateValue","first","last","output","filter","remainingSpace","variableCount","consumeSpace","finishSizing","finished","Internal","Infinity","getBaseLength","getLength","forEach","kerning","prevPadRight","padRight","padLeft","resized","resizing","hunkSize","Math","round","getMaxLength","getMinLength","renderFunction","arguments","alignWith","leftPadding","rightPadding","right","truncated","String","aligned"],"sources":["C:/Users/piteg/source/repos/p-iteghie/GamePlan/node_modules/gauge/render-template.js"],"sourcesContent":["'use strict'\r\nvar align = require('wide-align')\r\nvar validate = require('aproba')\r\nvar wideTruncate = require('./wide-truncate')\r\nvar error = require('./error')\r\nvar TemplateItem = require('./template-item')\r\n\r\nfunction renderValueWithValues (values) {\r\n  return function (item) {\r\n    return renderValue(item, values)\r\n  }\r\n}\r\n\r\nvar renderTemplate = module.exports = function (width, template, values) {\r\n  var items = prepareItems(width, template, values)\r\n  var rendered = items.map(renderValueWithValues(values)).join('')\r\n  return align.left(wideTruncate(rendered, width), width)\r\n}\r\n\r\nfunction preType (item) {\r\n  var cappedTypeName = item.type[0].toUpperCase() + item.type.slice(1)\r\n  return 'pre' + cappedTypeName\r\n}\r\n\r\nfunction postType (item) {\r\n  var cappedTypeName = item.type[0].toUpperCase() + item.type.slice(1)\r\n  return 'post' + cappedTypeName\r\n}\r\n\r\nfunction hasPreOrPost (item, values) {\r\n  if (!item.type) return\r\n  return values[preType(item)] || values[postType(item)]\r\n}\r\n\r\nfunction generatePreAndPost (baseItem, parentValues) {\r\n  var item = Object.assign({}, baseItem)\r\n  var values = Object.create(parentValues)\r\n  var template = []\r\n  var pre = preType(item)\r\n  var post = postType(item)\r\n  if (values[pre]) {\r\n    template.push({value: values[pre]})\r\n    values[pre] = null\r\n  }\r\n  item.minLength = null\r\n  item.length = null\r\n  item.maxLength = null\r\n  template.push(item)\r\n  values[item.type] = values[item.type]\r\n  if (values[post]) {\r\n    template.push({value: values[post]})\r\n    values[post] = null\r\n  }\r\n  return function ($1, $2, length) {\r\n    return renderTemplate(length, template, values)\r\n  }\r\n}\r\n\r\nfunction prepareItems (width, template, values) {\r\n  function cloneAndObjectify (item, index, arr) {\r\n    var cloned = new TemplateItem(item, width)\r\n    var type = cloned.type\r\n    if (cloned.value == null) {\r\n      if (!(type in values)) {\r\n        if (cloned.default == null) {\r\n          throw new error.MissingTemplateValue(cloned, values)\r\n        } else {\r\n          cloned.value = cloned.default\r\n        }\r\n      } else {\r\n        cloned.value = values[type]\r\n      }\r\n    }\r\n    if (cloned.value == null || cloned.value === '') return null\r\n    cloned.index = index\r\n    cloned.first = index === 0\r\n    cloned.last = index === arr.length - 1\r\n    if (hasPreOrPost(cloned, values)) cloned.value = generatePreAndPost(cloned, values)\r\n    return cloned\r\n  }\r\n\r\n  var output = template.map(cloneAndObjectify).filter(function (item) { return item != null })\r\n\r\n  var remainingSpace = width\r\n  var variableCount = output.length\r\n\r\n  function consumeSpace (length) {\r\n    if (length > remainingSpace) length = remainingSpace\r\n    remainingSpace -= length\r\n  }\r\n\r\n  function finishSizing (item, length) {\r\n    if (item.finished) throw new error.Internal('Tried to finish template item that was already finished')\r\n    if (length === Infinity) throw new error.Internal('Length of template item cannot be infinity')\r\n    if (length != null) item.length = length\r\n    item.minLength = null\r\n    item.maxLength = null\r\n    --variableCount\r\n    item.finished = true\r\n    if (item.length == null) item.length = item.getBaseLength()\r\n    if (item.length == null) throw new error.Internal('Finished template items must have a length')\r\n    consumeSpace(item.getLength())\r\n  }\r\n\r\n  output.forEach(function (item) {\r\n    if (!item.kerning) return\r\n    var prevPadRight = item.first ? 0 : output[item.index - 1].padRight\r\n    if (!item.first && prevPadRight < item.kerning) item.padLeft = item.kerning - prevPadRight\r\n    if (!item.last) item.padRight = item.kerning\r\n  })\r\n\r\n  // Finish any that have a fixed (literal or intuited) length\r\n  output.forEach(function (item) {\r\n    if (item.getBaseLength() == null) return\r\n    finishSizing(item)\r\n  })\r\n\r\n  var resized = 0\r\n  var resizing\r\n  var hunkSize\r\n  do {\r\n    resizing = false\r\n    hunkSize = Math.round(remainingSpace / variableCount)\r\n    output.forEach(function (item) {\r\n      if (item.finished) return\r\n      if (!item.maxLength) return\r\n      if (item.getMaxLength() < hunkSize) {\r\n        finishSizing(item, item.maxLength)\r\n        resizing = true\r\n      }\r\n    })\r\n  } while (resizing && resized++ < output.length)\r\n  if (resizing) throw new error.Internal('Resize loop iterated too many times while determining maxLength')\r\n\r\n  resized = 0\r\n  do {\r\n    resizing = false\r\n    hunkSize = Math.round(remainingSpace / variableCount)\r\n    output.forEach(function (item) {\r\n      if (item.finished) return\r\n      if (!item.minLength) return\r\n      if (item.getMinLength() >= hunkSize) {\r\n        finishSizing(item, item.minLength)\r\n        resizing = true\r\n      }\r\n    })\r\n  } while (resizing && resized++ < output.length)\r\n  if (resizing) throw new error.Internal('Resize loop iterated too many times while determining minLength')\r\n\r\n  hunkSize = Math.round(remainingSpace / variableCount)\r\n  output.forEach(function (item) {\r\n    if (item.finished) return\r\n    finishSizing(item, hunkSize)\r\n  })\r\n\r\n  return output\r\n}\r\n\r\nfunction renderFunction (item, values, length) {\r\n  validate('OON', arguments)\r\n  if (item.type) {\r\n    return item.value(values, values[item.type + 'Theme'] || {}, length)\r\n  } else {\r\n    return item.value(values, {}, length)\r\n  }\r\n}\r\n\r\nfunction renderValue (item, values) {\r\n  var length = item.getBaseLength()\r\n  var value = typeof item.value === 'function' ? renderFunction(item, values, length) : item.value\r\n  if (value == null || value === '') return ''\r\n  var alignWith = align[item.align] || align.left\r\n  var leftPadding = item.padLeft ? align.left('', item.padLeft) : ''\r\n  var rightPadding = item.padRight ? align.right('', item.padRight) : ''\r\n  var truncated = wideTruncate(String(value), length)\r\n  var aligned = alignWith(truncated, length)\r\n  return leftPadding + aligned + rightPadding\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}